(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{299:function(t,e,s){"use strict";s.r(e);var a=s(1),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h4",{attrs:{id:"css变量能帮助我们干什么"}},[t._v("CSS变量能帮助我们干什么")]),t._v(" "),t._m(0),t._v(" "),s("h4",{attrs:{id:"一、什么是css变量"}},[t._v("一、什么是CSS变量")]),t._v(" "),s("p",[t._v("CSS 变量当前有两种形式：")]),t._v(" "),t._m(1),t._v(" "),s("h4",{attrs:{id:"二、变量的声明"}},[t._v("二、变量的声明")]),t._v(" "),s("h5",{attrs:{id:"变量的命名"}},[t._v("变量的命名")]),t._v(" "),t._m(2),t._v(" "),s("h5",{attrs:{id:"声明方式"}},[t._v("声明方式")]),t._v(" "),s("p",[t._v("CSS变量声明的方式非常简单，如下，声明了一个名叫color的CSS变量。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),s("h5",{attrs:{id:"变量值的类型"}},[t._v("变量值的类型")]),t._v(" "),s("p",[t._v("如果变量值是一个字符串，可以与其他字符串拼接")]),t._v(" "),t._m(5),s("p",[t._v("如果变量值是数值，不能与数值单位直接连用,必须使用calc()函数，将它们连接")]),t._v(" "),t._m(6),s("p",[t._v("如果变量值带有单位，就不能写成字符串")]),t._v(" "),t._m(7),s("p",[t._v("注意: 变量值只能用作属性值，不能用作属性名")]),t._v(" "),t._m(8),s("p",[t._v("上面代码中，变量--side用作属性名，这是无效的")]),t._v(" "),s("h4",{attrs:{id:"三、css变量的继承-作用域"}},[t._v("三、CSS变量的继承&作用域")]),t._v(" "),s("p",[t._v("自定义属性同样支持继承。一个元素上没有定义自定义属性，该自定义属性的值会继承其父元素")]),t._v(" "),t._m(9),s("p",[t._v("定义下面的CSS：")]),t._v(" "),t._m(10),s("p",[t._v("在这个例子中，var(--test)的结果是：")]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("最顶层的作用域就是:root")]),t._v(" "),s("h4",{attrs:{id:"四、响应式"}},[t._v("四、响应式")]),t._v(" "),t._m(12),s("h4",{attrs:{id:"五、与预处理器的不同"}},[t._v("五、与预处理器的不同")]),t._v(" "),s("p",[t._v("1、预处理器变量不是实时的")]),t._v(" "),t._m(13),s("p",[t._v("编译结果")]),t._v(" "),t._m(14),s("p",[t._v("2、预处理器不能限定作用域")]),t._v(" "),t._m(15),s("p",[t._v("编译为")]),t._v(" "),t._m(16),s("p",[t._v("3、预处理器变量不可互操作")]),t._v(" "),s("p",[t._v("原生的CSS自定义属性可以与任何CSS预处理器或纯CSS文件一起使用")]),t._v(" "),s("h4",{attrs:{id:"六、js操作变量"}},[t._v("六、JS操作变量")]),t._v(" "),s("p",[t._v("CSS 变量可以和 JS 互相交互")]),t._v(" "),t._m(17),s("h4",{attrs:{id:"七、兼容性"}},[t._v("七、兼容性")]),t._v(" "),s("p",[t._v("检测浏览器是否支持CSS自定义属性的方法")]),t._v(" "),t._m(18),s("p",[t._v("https://caniuse.com/#search=css%20var")]),t._v(" "),s("h3",{attrs:{id:"总结"}},[t._v("总结")]),t._v(" "),s("p",[t._v("相较于传统的 LESS 、SASS 等预处理器变量，CSS 变量的优点在于:")]),t._v(" "),s("ul",[s("li",[t._v("CSS 变量的动态性，能在页面运行时更改，而传统预处理器变量编译后无法更改")]),t._v(" "),s("li",[t._v("CSS 变量能够继承，能够组合使用，具有作用域")]),t._v(" "),s("li",[t._v("配合 Javascript 使用，可以方便的从 JS 中读/写\n参考"),s("br"),t._v(" "),s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2017/05/css-variables.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS 变量教程"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_variables",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用CSS变量"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.w3cplus.com/css/difference-between-types-of-css-variables.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS变量和预处理器变量的差异"),s("OutboundLink")],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("在一些命令式编程语言中，像Java、C++亦或是JavaScript，通过变量我们能够跟踪某些状态。变量是一种符号，关联着一个特定的值，变量的值能随着时间的推移而改变。\n在像CSS这种声明式语言中，随着时间而改变的值并不存在，也就没有所谓变量的概念了。\nCSS 引入了一种层级变量的概念，从而能够从容应对可维护性的挑战。这就会使得在整个 CSS tree 中都可以象征性的引用一个变量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("变量，就是拥有合法标识符和合法的值。可以被使用在任意的地方。可以使用var()函数使用变量。例如：var(--example-variable)会返回--example-variable所对应的值\n自定义属性。这些属性使用--"),e("em",[this._v("where")]),this._v("的特殊格式作为名字。例如--example-variable: 20px;即使一个css声明语句。意思是将20px赋值给--example-varibale变量")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("变量声明使用两根连词线--表示变量，$color是属于Sass的语法，@color是属于Less的语法，为避免冲突css原生变量使用--）"),e("br"),this._v("\n注意: 变量名大小写敏感，"),e("code",[this._v("--header-color")]),this._v("和"),e("code",[this._v("--Header-Color")]),this._v("是两个不同变量")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("在css文件中写")]),this._v(" "),e("li",[this._v("写在html标签的inline-style里")]),this._v(" "),e("li",[this._v("用JS给某个元素声明，方法.style.setProperty")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("body{\n  --color: red;\n}\n<body style=\"--color: red;\"></body>\ndocument.getElementsByTagName('body')[0].style.setProperty('--color', 'red')\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("--bar: 'hello';\n--foo: var(--bar)' world';\n\n\nbody:after {\n  content: '--screen-category : 'var(--screen-category);\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(".foo {\n  --gap: 20;\n  /* 无效 */\n  margin-top: var(--gap)px;\n}\n\n.foo {\n  --gap: 20;\n  margin-top: calc(var(--gap) * 1px);\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("\n/* 无效 */\n.foo {\n  --foo: '20px';\n  font-size: var(--foo);\n}\n\n/* 有效 */\n.foo {\n  --foo: 20px;\n  font-size: var(--foo);\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(".foo {\n  --side: margin-top;\n  /* 无效 */\n  var(--side): 20px;\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('class="one">\n  <div class="two">\n    <div class="three">\n    </div>\n    <div class="four">\n    </div>\n  <div>\n</div>\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(".two { --test: 10px; }\n.three { --test: 2em; }\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v('class="two" 对应的节点: 10px')]),this._v(" "),e("li",[this._v('class="three" 对应的节点: element: 2em')]),this._v(" "),e("li",[this._v('class="four" 对应的节点: 10px (inherited from its parent)')]),this._v(" "),e("li",[this._v('class="one" 对应的节点: 无效值, 即此属性值为未被自定义css变量覆盖的默认值')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("div {\n  --color: #7F583F;\n  --bg: #F7EFD2;\n}\n\n.mediabox {\n  color: var(--color);\n  background: var(--bg);\n}\n\n@media screen and (min-width: 768px) {\n  body {\n    --color:  #F7EFD2;\n    --bg: #7F583F;\n  }\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$color:#7F583F;\n\n@media screen and (min-width: 768px) {\n\t$color: #F7EFD2;\n}\n\n.mediabox {\n  \tbackground: $color;\n}\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(".mediabox {\n  background: #7F583F; \n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$zcolor:blue;\n.ulbox {\n\t$zcolor:red;\n}\nul{\n\tcolor: $zcolor;\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ul {\n  color: blue; \n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(":root{\n  --testMargin:70px;\n}\n//  读取\nvar root = getComputedStyle(document.documentElement);\nvar cssVariable1 = root.getPropertyValue('--testMargin').trim();\nconsole.log(cssVariable1); // '70px'\n \n// 写入\ndocument.documentElement.style.setProperty('--testMargin', '100px');\nvar cssVariable2 = root.getPropertyValue('--testMargin').trim();\nconsole.log(cssVariable2);  // '100px'\n\n// 删除\ndocument.documentElement.style.removeProperty('--testMargin');\nvar cssVariable3 = root.getPropertyValue('--testMargin').trim();\nconsole.log(cssVariable3); // '70px'\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/*css*/\n\n@supports ( (--a: 0)) {\n    /* supported */\n}\n\n@supports ( not (--a: 0)) {\n    /* not supported */\n}\n// Js\n\nif (window.CSS && window.CSS.supports && window.CSS.supports('--a', 0)) {\n    alert('CSS properties are supported');\n} else {\n    alert('CSS properties are NOT supported');\n}\n")])])])}],!1,null,null,null);n.options.__file="css-variable-study.md";e.default=n.exports}}]);